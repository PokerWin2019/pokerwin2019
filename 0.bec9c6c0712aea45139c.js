webpackJsonp([0],{"66aL":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"PokerRoom",components:{ssnav:o("uL8o").a},data:function(){return{isShowMain:!0,gameURL:"",isWH:!1}},created:function(){window.pokerRoomParm||this.$alert(""+this.$t("RoomPage.backTip"),{confirmButtonText:""+this.$t("RoomPage.confirmBtn"),beforeClose:function(e,t,o){"confirm"==e&&(history.back(),setTimeout(function(){top.window.location.reload()},500)),o()}})},beforeDestroy:function(){this.selfInfoSInt&&window.clearInterval(this.selfInfoSInt)},beforeRouteLeave:function(e,t,o){var n=this;top.frames.mainscene.Game.prototype.preGameInfo?top.window.tronAppInt.getQGameState(top.window.tronAppInt.roomID2GameID(top.frames.mainscene.Game.prototype.preGameInfo.rID,top.frames.mainscene.Game.prototype.preGameInfo.gID)).then(function(e){if(4!=e)if(top.frames.mainscene.Game.prototype.preGameInfo.preData){var t=tronAppInt.getWinnerFrom(top.frames.mainscene.Game.prototype.preGameInfo.preData.room.chips);top.frames.mainscene.Game.prototype.preGameInfo.preData.room.occupants[t].id==tronAppInt.tronWeb.defaultAddress.hex?n.$alert(""+this.$t("RoomPage.winnerTip"),{beforeClose:function(e,t,a){var r=a;"confirm"===e&&tronAppInt.getQcGameParmFromEndGameInfo(top.frames.mainscene.Game.prototype.preGameInfo.preData).then(function(e){var t=this;tronAppInt.submitQGameResultHelper(e).then(function(e){e&&(n.$message({type:"success",message:""+t.$t("RoomPage.successTip")}),console.log("有获胜游戏，未提交结果,处理了未提交内容"),r(),o(!0))})})}}):location.href.indexOf("?")>=0&&n.$alert(""+this.$t("RoomPage.loserTip"),{beforeClose:function(e,t,n){"confirm"==e&&o(!0),n()}})}else location.href.indexOf("?")>=0&&n.$alert(""+this.$t("RoomPage.beforStartTip"),{beforeClose:function(e,t,n){"confirm"==e&&o(!0),n()}});else o(!0)}).catch(function(e){throw e}):location.href.indexOf("?")>=0&&n.$alert(""+this.$t("RoomPage.beforStartTip"),{beforeClose:function(e,t,n){"confirm"==e&&o(!0),n()}})},beforeRouteUpdate:function(){console.log("beforeRouteUpdate")},mounted:function(){document.getElementById("mainscene").width=document.body.clientWidth,document.getElementById("mainscene").height=.8*document.body.clientHeight;var e=this.$route.query.roomID;this.gameURL=window.pokerEnvironment().gameURL+"?roomID="+e},methods:{}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"mainRunner"},[t("ssnav",{attrs:{isShowLogo:!1}}),this._v(" "),this.isShowMain?t("iframe",{staticClass:"['frameClass',isWH:'frameWHClass':'']",attrs:{name:"mainscene",width:"100%",height:"80%",id:"mainscene",src:this.gameURL,frameborder:"0",scrolling:"no"}}):this._e()],1)},staticRenderFns:[]};var r=o("VU/8")(n,a,!1,function(e){o("gGho"),o("S23t")},"data-v-86173430",null);t.default=r.exports},S23t:function(e,t){},gGho:function(e,t){}});
//# sourceMappingURL=0.bec9c6c0712aea45139c.js.map